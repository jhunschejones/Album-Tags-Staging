function safeParse(a){return a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#47;").replace(/\\/g,"&#92;").replace(/\(/g,"&#40;").replace(/\)/,"&#41;").replace(/\./g,"&#46;").replace(/\[/g,"&#91;").replace(/\]/g,"&#93;").replace(/\{/g,"&#123;").replace(/\}/g,"&#125;").replace(/=/g,"&#61;")}function replaceBackSlashWithHtml(a){return a.replace(/\//g,"&sol;")}var allTags=[];
function populateTags(){$.getJSON("/api/v1/album",function(a){a&&($(".all_tags").text(""),a.forEach(function(a){a.tags.forEach(function(a){-1==allTags.indexOf(a)&&allTags.push(a)})}),allTags.sort(),allTags.forEach(function(a){var b=parseInt(a)?"tag_".concat(a).replace(/[^A-Z0-9]+/ig,""):a.replace(/[^A-Z0-9]+/ig,"");$(".all_tags").append('<a href="" onclick="changeClass('+b+', event)" id="'+b+'" class="badge badge-light tag">'+safeParse(a)+"</a>")}))})}
function changeClass(a,b){b&&b.preventDefault();$(".warning_label").text("");a=document.getElementById(a.id);a.classList.toggle("badge-primary");a.classList.toggle("selected_tag");a.classList.toggle("badge-light");addToTagArray(replaceBackSlashWithHtml(a.innerHTML))}var selectedTags=[];function addToTagArray(a){-1===$.inArray(a,selectedTags)?selectedTags.push(a):(a=selectedTags.indexOf(a),selectedTags.splice(a,1))}
function clearTagArray(a){a&&a.preventDefault();0<$(".selected_tag").length?($(".selected_tag").toggleClass("badge-primary"),$(".selected_tag").toggleClass("badge-light"),$(".selected_tag").toggleClass("selected_tag"),selectedTags=[]):$(".warning_label").text("")}function tagSearch(a){a&&a.preventDefault();0<selectedTags.length?window.location="/search/tags/"+selectedTags:($(".warning_label").text(""),$(".warning_label").text("Select one or more tags to preform a tag-search."))}populateTags();
